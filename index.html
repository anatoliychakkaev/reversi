<!DOCTYPE html>
<html>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <script src="jquery.js"></script>
  <script src="tmpl.js"></script>
  <script src="reversi.js"></script>

  <script type="text/html" id="board">
    <table class="reversi">
      <tr>
        <td colspan="8" class="info">
          <%= left_info %>
          <span style="float:right;">
            <%= right_info %>
          </span>
        </td>
      </tr>
      <% for (var i = 0; i < 8; i++) { %>
        <tr>
          <% for (var j = 0; j < 8; j++) { %>
            <td class="<%= map[position[i][j]] %>" data-coords="<%= i + ':' + j %>">&nbsp;</td>
          <% } %>
        </tr>
      <% } %>
    </table>
  </script>
  <script type="text/javascript">
    $(function () {
      var game = $('body').reversi(function (data) {
        this.html(tmpl('board', data)); 
      });
      $('td.move_here').live('click', function () {
        game.move($(this).attr('data-coords'));
      });
    });
  </script>
  <style>
    table.reversi {
      border-collapse: collapse;
    }

    .reversi td {
      width: 47px;
      height: 47px;
      border: 2px outset #484;
      background: darkgreen;
      text-indent: -3000px;
    }

    .reversi td.info {
      text-indent: 10px;
      font-width: 700;
      font-size: 20px;
      font-family: ubuntu, verdana, sans-serif;
      color: white;
    }

    .reversi td.black {
      background: black;
    }

    .reversi td.white {
      background: white;
    }

    .move_here.black {
      background: #353 !important;
    }

    .move_here.white {
      background: #686 !important;
    }
  </style>
  <body>
  </body>
</html>
